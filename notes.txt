Add mobile efars through the web interface
populate database of efar candidates
  

Dispatch

fake names:

Shireen Johnson
Nicole Jacobs
Abdul Bassiet
Thelma Van Wyk
Rauchmat Sauls
Xola Sogiba
Judith September
Yolanda Qumba
Shaun Ganyaza
Tsepo Gaji
Samantha Danster
Vuyolwethu Saphepha

People's Centre
Thames Avenue
Cape Town 7767, South Africa

default password: colorado

michelleklaasen@ymail.com

research namespace

/research/efars

getvetter.com



# have to parse community and postal code
# e.g. turn "manenberg 7764 into two strings"
comm = ss.cell(line, 'D')
if (comm.present? and comm.is_a?(String))
  efar.postal_code = comm[/\d{4}$/]
  efar.suburb = comm.scan(/\D+/).collect { |w| w.strip }.join(" ")
end


[x] remove first step from the flow
[ ] include all head efars in a dispatch
[ ] add landmarks to dispatch
[ ] geolocate community centers on save, or update

Tests:
- test multiple head efars works
- test that all text response categories work (eg Yes, or Y)
- test that new labels work
- test send_help_message_to_efar_and_head_efar
- test response processing
- test dispatch efars
- test dispatch head efars method (both in emergency model)
- test send_responding_message_to_efar_and_head_efar
- test num_sent, num_responding, num_failed, etc

Meeting with Gerry

- sent message needs a NO options instead of "ignore"
- head efar *ALWAYS* included in dispatches for their neighborhood
- send to multiple efars

- send message to head efars, including list of notified efars
- move people to safe area where they can link with ambulances
- counsler
- radios
- engage mtn and *vodacom*
- Add landmarks or directions in message  









